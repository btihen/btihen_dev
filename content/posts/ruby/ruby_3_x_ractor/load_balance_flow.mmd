graph LR
    main -->|main: r1.send 1| in_r1
    in_r1 --> queue_r1
    queue_r1 --> |Ractor.receive| block_r1
    block_r1 --> |Ractor.yield| out_r1
    in_r2 --> queue_r2
    out_r1 --> |r1.take| block_r2
    block_r2 --> |Ractor.yield| out_r2
    out_r2 --> |main: r2.take| main
    subgraph Ractor: r1
    in_r1(in port)
    queue_r1(queue)
    block_r1(block <br> task input)
    out_r1
    end
    subgraph Ractor: r2
    in_r2
    queue_r2
    block_r2
    out_r2
    end
    subgraph Ractor: main
    main
    end
